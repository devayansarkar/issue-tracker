(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-185db446"],{"1b10":function(e,t,i){"use strict";i.r(t);i("a4d3"),i("e01a");var a=i("7a23"),s={class:"page-container"},n={key:0,class:"add-issue"},o={class:"page-type"},r={class:"issue"},c={class:"input-container"},d=Object(a["i"])("label",{for:"title",class:"form-field-label"},"Title",-1),l={class:"input-container"},u=Object(a["i"])("label",{for:"description",class:"form-field-label"},"Description",-1),p={class:"issue-info"},b={class:"input-container"},f=Object(a["i"])("label",{for:"date",class:"form-field-label"},"End date",-1),y={class:"input-container"},g=Object(a["i"])("label",{for:"lane",class:"form-field-label"},"Add to lane",-1),h=Object(a["i"])("option",{value:"TODO"},"Todo",-1),m=Object(a["i"])("option",{value:"INPROGRESS"},"Doing",-1),O=Object(a["i"])("option",{value:"DONE"},"Done",-1),j={class:"input-container"},v=Object(a["i"])("label",{for:"category",class:"form-field-label"},"Category",-1),D={class:"issue-cta"},I={key:1,class:"loading-container"};function k(e,t,i,k,$,E){var T=Object(a["y"])("Navbar"),S=Object(a["y"])("Topbar"),w=Object(a["y"])("Loading");return Object(a["r"])(),Object(a["e"])("div",null,[Object(a["i"])(T,{page:E.getCurrentPage},null,8,["page"]),Object(a["i"])("div",s,[Object(a["i"])(S),e.$store.state.isLoading?Object(a["f"])("",!0):(Object(a["r"])(),Object(a["e"])("div",n,[e.$store.state.message.text?(Object(a["r"])(),Object(a["e"])("div",{key:0,class:["info-message",e.$store.state.message.type]},Object(a["A"])(e.$store.state.message.text),3)):Object(a["f"])("",!0),Object(a["i"])("div",o,Object(a["A"])(E.getPageTitle),1),Object(a["i"])("div",r,[Object(a["i"])("form",{onSubmit:t[11]||(t[11]=Object(a["H"])((function(){return E.saveIssue&&E.saveIssue.apply(E,arguments)}),["prevent"]))},[Object(a["i"])("div",c,[d,Object(a["G"])(Object(a["i"])("input",{onClick:t[1]||(t[1]=function(){return E.makeEditable&&E.makeEditable.apply(E,arguments)}),readonly:$.isReadonly,id:"title",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return $.title=e}),class:"form-field",placeholder:"Enter issue title"},null,8,["readonly"]),[[a["D"],$.title]])]),Object(a["i"])("div",l,[u,Object(a["G"])(Object(a["i"])("textarea",{readonly:$.isReadonly,onClick:t[3]||(t[3]=function(){return E.makeEditable&&E.makeEditable.apply(E,arguments)}),id:"description","onUpdate:modelValue":t[4]||(t[4]=function(e){return $.description=e}),type:"description",placeholder:"Add your description here",cols:"30",rows:"8"},null,8,["readonly"]),[[a["D"],$.description]])]),Object(a["i"])("div",p,[Object(a["i"])("div",b,[f,Object(a["G"])(Object(a["i"])("input",{min:E.getCurrentDate,readonly:$.isReadonly,onClick:t[5]||(t[5]=function(){return E.makeEditable&&E.makeEditable.apply(E,arguments)}),id:"date",type:"date","onUpdate:modelValue":t[6]||(t[6]=function(e){return $.endDate=e}),class:"form-field",placeholder:"Enter issue date"},null,8,["min","readonly"]),[[a["D"],$.endDate]])]),Object(a["i"])("div",y,[g,Object(a["G"])(Object(a["i"])("select",{readonly:$.isReadonly,onClick:t[7]||(t[7]=function(){return E.makeEditable&&E.makeEditable.apply(E,arguments)}),id:"lane","onUpdate:modelValue":t[8]||(t[8]=function(e){return $.lane=e}),placeholder:"Add your lane",name:"lane",class:$.isReadonly?"read-only-select":""},[h,m,O],10,["readonly"]),[[a["C"],$.lane]])]),Object(a["i"])("div",j,[v,Object(a["G"])(Object(a["i"])("input",{readonly:$.isReadonly,onClick:t[9]||(t[9]=function(){return E.makeEditable&&E.makeEditable.apply(E,arguments)}),id:"category",type:"text","onUpdate:modelValue":t[10]||(t[10]=function(e){return $.category=e}),class:"form-field",placeholder:"Enter issue category"},null,8,["readonly"]),[[a["D"],$.category]])])]),Object(a["i"])("div",D,[$.isReadonly?Object(a["f"])("",!0):(Object(a["r"])(),Object(a["e"])("button",{key:0,disabled:E.isFormIncomplete,class:"btn btn-primary"},Object(a["A"])(E.getButtonName),9,["disabled"]))])],32)])])),e.$store.state.isLoading?(Object(a["r"])(),Object(a["e"])("div",I,[Object(a["i"])(w)])):Object(a["f"])("",!0)])])}i("b0c0"),i("d3b7"),i("25f0");var $=i("d178"),E=i("ddc0"),T=i("3a5e"),S=i("c1df"),w=i.n(S),R={name:"AddNewIssue",components:{Navbar:$["a"],Topbar:E["a"],Loading:T["a"]},data:function(){return{id:0,title:"",description:"",endDate:"",lane:"TODO",category:"",pageType:this.$route.name,isReadonly:"ViewIssue"===this.$route.name}},computed:{isFormIncomplete:function(){return""===this.title||""===this.description},getButtonName:function(){return"AddIssue"===this.pageType?"Save":"Update"},getPageTitle:function(){if("AddIssue"===this.pageType)return"Add issue";if("ViewIssue"===this.pageType){var e=this.$route.params&&this.$route.params.issue_id;return"Viewing issue : ".concat(e)}if("UpdateIssue"===this.pageType){var t=this.$route.params&&this.$route.params.issue_id;return"Updating issue : ".concat(t)}return"Update issue"},getCurrentDate:function(){return w()().format("YYYY-MM-DD").toString()},getCurrentPage:function(){return"AddIssue"===this.pageType||"UpdateIssue"===this.pageType?"addIssue":"viewIssue"}},methods:{cleanState:function(){this.title="",this.description="",this.endDate="",this.lane="TODO",this.category="",this.id=""},saveIssue:function(){var e=w()(this.endDate,"YYYY-MM-DD").format("DD/MM/YYYY");"UpdateIssue"===this.pageType?this.$store.dispatch("updateIssue",{id:this.id,payload:{title:this.title,description:this.description,category:this.category,end_date:e,status:this.lane}}):this.$store.dispatch("addNewIssue",{title:this.title,description:this.description,category:this.category,end_date:e,status:this.lane})},makeEditable:function(){this.isReadonly=!1,"AddIssue"!==this.pageType&&(this.pageType="UpdateIssue")}},created:function(){var e=this;if(this.$route.params&&this.$route.params.issue_id){var t=this.$route.params;if(void 0===t.index||void 0===t.type)this.$store.dispatch("getIssue",{id:t.issue_id});else{var i=this.$store.getters.getIssue({type:t.type,index:t.index});this.$store.commit("getIssueSuccess",i),this.title=i.title,this.description=i.description,this.endDate=i.end_date,this.lane=i.status,this.category=i.category,this.id=i.id}}this.$store.watch((function(e){return e.issue}),(function(t){""!==t.title&&(e.title=t.title,e.description=t.description,e.endDate=t.end_date,e.lane=t.status,e.category=t.category,e.id=t.id)})),this.$store.watch((function(e){return e.message}),(function(t){"success"===t.type&&e.cleanState()}))}};i("7c3d");R.render=k;t["default"]=R},"25f0":function(e,t,i){"use strict";var a=i("6eeb"),s=i("825a"),n=i("d039"),o=i("ad6d"),r="toString",c=RegExp.prototype,d=c[r],l=n((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),u=d.name!=r;(l||u)&&a(RegExp.prototype,r,(function(){var e=s(this),t=String(e.source),i=e.flags,a=String(void 0===i&&e instanceof RegExp&&!("flags"in c)?o.call(e):i);return"/"+t+"/"+a}),{unsafe:!0})},"2c46":function(e,t,i){},"7c3d":function(e,t,i){"use strict";i("2c46")},e01a:function(e,t,i){"use strict";var a=i("23e7"),s=i("83ab"),n=i("da84"),o=i("5135"),r=i("861d"),c=i("9bf2").f,d=i("e893"),l=n.Symbol;if(s&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new l(e):void 0===e?l():l(e);return""===e&&(u[t]=!0),t};d(p,l);var b=p.prototype=l.prototype;b.constructor=p;var f=b.toString,y="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;c(b,"description",{configurable:!0,get:function(){var e=r(this)?this.valueOf():this,t=f.call(e);if(o(u,e))return"";var i=y?t.slice(7,-1):t.replace(g,"$1");return""===i?void 0:i}}),a({global:!0,forced:!0},{Symbol:p})}}}]);
//# sourceMappingURL=chunk-185db446.b2d2737f.js.map